<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conforto Térmico</title>
    <link rel="stylesheet" type="text/css" href="static\style.css">
    <link rel="icon" href="\static\images\logo_labeee_icon.ico">
</head>
<body>
    <header class="header">
        <nav class="logo">
            <a href="https://labeee.ufsc.br/pt-br/" target="_blank"><img src="\static\images\logo_hablabeee_projeto.png" alt="Logo do Laboratório"><a/>
        </nav>
        <nav class="social-links">
            <a href="https://www.linkedin.com/company/labeee-ufsc/" style="font-size: 14px;" target="_blank"><img src="\static\images\linkedin.svg" alt="LinkedIn"></a>
            <a href="https://www.instagram.com/labeee.ufsc/" target="_blank"><img src="\static\images\instagram.svg" alt="Instagram"></a>
            <a href="https://www.facebook.com/labeee.ufsc" target="_blank"><img src="\static\images\facebook.svg" alt="Facebook"></a>
        </nav>
    </header>
    {% block content %}
    <form id="ConfortoTermico" action="/questionario" method="POST" onsubmit="return validarFormulario()">
        <input name="id" type="hidden" value="{{ id }}">
        <fieldset>
            <legend>Eu estou:</legend>
            <div class="imagens-container">
                <div class="imagem-container">
                    <div>
                        <label for="quarto"><img src="static/images/quarto.png"><br>
                            <input type="radio" name="comodo" id="quarto" value="quarto" required>
                        No quarto</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="sala"><img src="static/images/sala.png"><br>
                            <input type="radio" name="comodo" id="sala" value="sala" required>
                        Na sala</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="cozinha"><img src="static/images/cozinha.png"><br>
                            <input type="radio" name="comodo" id="cozinha" value="cozinha" required>
                        Na cozinha</label>
                    </div>
                </div>
            </div>
        </fieldset><br>
        <fieldset>
            <legend>Agora eu estou...</legend><br>
            <div class="imagens-container">
                <div class="imagem-container">
                    <label for="quente3"><img src="static/images/muito_calor.png"><br>
                        <input type="radio" name="temp" id="quente3" value="com muito calor" required>
                    Com muito calor</label>
                </div><br>
                <div class="imagem-container">
                    <label for="quente2"><img src="static/images/calor.png"><br>
                        <input type="radio" name="temp" id="quente2" value="com calor" required>
                    Com calor</label>
                </div><br>
                <div class="imagem-container">
                    <label for="quente1"><img src="static/images/pouco_calor.png"><br>
                        <input type="radio" name="temp" id="quente1" value="um leve calor" required>
                    Um leve calor</label>
                </div><br>
                <div class="imagem-container">
                    <label for="neutro"><img src="static/images/neutro.png"><br>
                        <input type="radio" name="temp" id="neutro" value="nem calor, nem frio" required>
                    Nem calor, nem frio</label>
                </div><br>
                <div class="imagem-container">
                    <label for="frio1"><img src="static/images/pouco_frio.png"><br>
                        <input type="radio" name="temp" id="frio1" value="um leve frio" required>
                    Um leve frio</label>
                </div><br>
                <div class="imagem-container">
                    <label for="frio2"><img src="static/images/frio.png"><br>
                        <input type="radio" name="temp" id="frio2" value="com frio" required>
                    Com frio</label>
                </div><br>
                <div class="imagem-container">
                    <label for="frio3"><img src="static/images/muito_frio.png"><br>
                        <input type="radio" name="temp" id="frio3" value="com muito frio" required>
                    Com muito frio</label>
                </div>
            </div>
        </fieldset><br>
        <fieldset>
            <legend>Eu queria que estivesse:</legend>
            <div class="imagens-container">
                <div class="imagem-container">
                    <div>
                        <label for="fresco"><img src="static/images/fresco.png"><br>
                            <input type="radio" name="pref" id="fresco" value="mais fresco" required>
                        Mais fresco</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="normal"><img src="static/images/sem_mudancas.png"><br>
                            <input type="radio" name="pref" id="normal" value="sem mudancas" required>
                        Sem mudanças</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="aquecido"><img src="static/images/aquecido.png"><br>
                            <input type="radio" name="pref" id="aquecido" value="mais aquecido" required>
                        Mais aquecido</label>
                    </div>
                </div>
            </div>
                </fieldset><br>
        <fieldset>
            <legend>Eu estou:</legend>
            <div class="imagens-container">
                <div class="imagem-container">
                    <div>
                        <label for="conf"><img src="static/images/confortavel.png"><br>
                            <input type="radio" name="considera" id="conf" value="confortavel" required>
                        Confortável</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="desconf"><img src="static/images/desconfortavel.png"><br>
                            <input type="radio" name="considera" id="desconf" value="desconfortavel" required>
                        Desconfortável</label>
                    </div>
                </div>
            </div>
        </fieldset><br>
        <fieldset>
            <legend>Eu estou vestindo...</legend><br>
            <div class="imagens-container">
                <div class="imagem-container">
                    <label for="roupas_leves"><img src="static/images/roupas_leves.png"><br>
                        <input type="radio" name="vestimenta" id="roupas_leves" value="Roupas leves" required>
                    Roupas leves</label>
                </div>
                <div class="imagem-container">
                    <label for="roupas_medias"><img src="static/images/roupas_medias.png"><br>
                        <input type="radio" name="vestimenta" id="roupas_medias" value="Roupas medias" required>
                    Roupas médias</label>
                </div>
                <div class="imagem-container">
                    <label for="roupas_pesadas"><img src="static/images/roupas_pesadas.png"><br>
                        <input type="radio" name="vestimenta" id="roupas_pesadas" value="Roupas pesadas" required>
                    Roupas pesadas</label>
                </div>
                <div class="imagem-container">
                    <label for="a_vontade"><img src="static/images/a_vontade.png"><br>
                        <input type="radio" name="vestimenta" id="a_vontade" value="À vontade" required>
                    Estou à vontade</label>
                </div>
            </div>
        </fieldset><br>
        <fieldset>
            <legend>Agora eu estou</legend>
            <div class="imagens-container">
                <div class="imagem-container">
                    <div>
                        <label for="tv"><img src="static/images/assistindo_tv.png"><br>
                            <input type="radio" name="atividade" id="tv" value="descansando" required>
                        Descansando, assistindo TV</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="pc"><img src="static/images/estudando.png"><br>
                            <input type="radio" name="atividade" id="pc" value="estudando" required>
                        Estudando ou no computador</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="limpando"><img src="static/images/limpando_casa.png"><br>
                            <input type="radio" name="atividade" id="limpando" value="limpando a casa" required>
                        Limpando a casa</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="comendo"><img src="static/images/comendo.png"><br>
                            <input type="radio" name="atividade" id="comendo" value="me alimentando" required>
                        Me alimentando</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="outro_1"><img src="static/images/outro.png"><br>
                            <input type="radio" name="atividade" id="outro_1" value="atividadeOutro">Outro:</label>
                        <input type="text" name="atividade" id="outro_1_texto">
                    </div>
                </div>
            </div>
        </fieldset><br>
        <fieldset>
            <legend>Agora eu estou com... (pode ser selecionada mais de 1 opção)</legend>
            <div class="imagens-container">
                <div class="imagem-container">
                    <div>
                        <label for="janelas"><img src="static/images/janelas_abertas.png"><br>
                            <input type="checkbox" name="situacao" id="janelas" value="janelas ou portas abertas">
                        Janelas/Portas abertas</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="ventiladores"><img src="static/images/ventiladores.png"><br>
                            <input type="checkbox" name="situacao" id="ventiladores" value="ventiladores ligados">
                        Ventiladores de teto/mesa ligados</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="coberta"><img src="static/images/coberta.png"><br>
                            <input type="checkbox" name="situacao" id="coberta" value="manta ou coberta">
                        Com uma manta ou coberta</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="ar_gelando"><img src="static/images/ar_frio.png"><br>
                            <input type="checkbox" name="situacao" id="ar_gelando" value="ar gelando">
                        Ar condicionado (refrigerando)</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="ar_aquecendo"><img src="static/images/ar_quente.png"><br>
                            <input type="checkbox" name="situacao" id="ar_aquecendo" value="ar aquecendo">
                        Ar condicionado (aquecendo)</label>
                    </div>
                </div>
                <div class="imagem-container">
                    <div>
                        <label for="outro_2"><img src="static/images/outro.png"><br>
                            <input type="checkbox" name="situacao" id="outro_2" value="situacaoOutro"> Outro:</label>
                        <input type="text" name="situacao" id="outro_2">
                    </div>
                </div>
            </div>
        </fieldset><br>
        <button type="submit" class="btn" id="proximoBtn" onclick="return validarFormulario()">Próxima</button>
        <button type="button" class="btn" onclick="window.history.back();">Voltar</button>
        <input type="reset" class="btn" value="Limpar formulário">
        </form>
    {% endblock content %}


    <script>
        function validarFormulario() {
            var perguntas = document.querySelectorAll('fieldset');
            for (var i = 0; i < perguntas.length; i++) {
                var inputs = perguntas[i].querySelectorAll('input[type="radio"], input[type="checkbox"]');
                var selecionado = false;
                for (var j = 0; j < inputs.length; j++) {
                    if (inputs[j].checked) {
                        selecionado = true;
                        break;
                    }
                }
                if (!selecionado) {
                    alert('Por favor, selecione uma opção para todas as perguntas.');
                    return false;
                }
            }
    
            var form = document.getElementById("ConfortoTermico");
            var formData = new FormData(form);
    
            if (document.getElementById('outro_1').checked) {
                formData.append('atividadeOutro', document.getElementById('outro_1_texto').value);
            }
    
            if (document.getElementById('outro_2').checked) {
                formData.append('situacaoOutro', document.getElementById('outro_2').value);
            }
    
            form.method = 'POST';
    
            return true;
        }
    
        window.onload = function() {
            var inputs = document.querySelectorAll('input[type="radio"]');
            inputs.forEach(function(input) {
                input.addEventListener('change', function() {
                    if (this.id !== 'outro_1') {
                        var nextFieldset = this.closest('fieldset').nextElementSibling;
                        if (nextFieldset) {
                            nextFieldset.scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                });
            });
    
            var outro_1_texto = document.getElementById('outro_1_texto');
            var outro_1 = document.getElementById('outro_1');
    
            outro_1_texto.addEventListener('input', function() {
                outro_1.value = this.value;
            });
        }
    </script>
    

</body>
</html>
